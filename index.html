<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Captcha Solver</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
        img { margin: 20px 0; max-width: 100%; }
    </style>
</head>
<body>
    <h1>Captcha Solver</h1>
    <div id="captcha-container"></div>
    <h2 id="solved-text" style="display:none;"></h2>
    <script>
        // Function to get URL parameters
        function getUrlParameter(name) {
            name = name.replace(/[#\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Get the captcha URL from URL parameters
        const captchaUrl = getUrlParameter('url');
        const callbackUrl = getUrlParameter('callback');
        
        // Display the captcha
        const captchaContainer = document.getElementById('captcha-container');
        if (captchaUrl) {
            const img = document.createElement('img');
            img.src = captchaUrl;
            captchaContainer.appendChild(img);
            
            // Simulate solving captcha after 15 seconds
            setTimeout(() => {
                const solvedText = "Sample Text"; // Simulated solved text
                document.getElementById('solved-text').innerText = solvedText;
                document.getElementById('solved-text').style.display = 'block';
                sendCallback(solvedText);
            }, 15000);
        }

        // Function to send solved text to callback URL
        function sendCallback(text) {
            if (callbackUrl) {
                fetch(callbackUrl, { 
                    method: 'POST', 
                    headers: { 'Content-Type': 'application/json' }, 
                    body: JSON.stringify({ solvedText: text })
                }).then(response => {
                    if (!response.ok) { console.error('Callback failed:', response); }
                });
            }
        }
    </script>
</body>
</html>